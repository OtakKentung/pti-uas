{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Serendivity\\\\Documents\\\\GitHub\\\\pti-uas\\\\src\\\\pages\\\\Map2\\\\Map2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react'; // import 'https://js.arcgis.com/4.21/';\n// import 'https://js.arcgis.com/4.21/esri/themes/light/main.css';\n\nimport './Map2.css';\nimport { loadModules } from 'esri-loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Map2() {\n  _s();\n\n  let viewDiv = useRef(null);\n  useEffect(() => {\n    loadModules([\"esri/Map\", \"esri/views/MapView\", \"esri/widgets/Directions\", \"esri/config\", \"esri/widgets/Track\", \"esri/Graphic\", \"esri/rest/locator\"], {\n      css: true\n    }).then(_ref => {\n      let [Map, MapView, Directions, esriConfig, Track, Graphic, locator] = _ref;\n      esriConfig.apiKey = \"AAPK646fc7baa89c4b608eb58b54dbbbe1066JR7fGrtnfyFPoTQnl4Z7yp0rUqUJMjQUrurVPBVnBAt75VOFZL-g-La4SwrdiZf\";\n      const map = new Map({\n        basemap: \"arcgis-topographic\"\n      });\n      const view = new MapView({\n        zoom: 16,\n        center: [106.6182, -6.2567],\n        container: \"viewDiv\",\n        map: map\n      });\n      let directionsWidget = new Directions({\n        view: view\n      });\n      view.ui.add(directionsWidget, {\n        position: \"top-right\"\n      });\n      const track = new Track({\n        view: view,\n        graphic: new Graphic({\n          symbol: {\n            type: \"simple-marker\",\n            size: \"12px\",\n            color: \"green\",\n            outline: {\n              color: \"#efefef\",\n              width: \"1.5px\"\n            }\n          }\n        }),\n        useHeadingEnabled: false\n      });\n      view.ui.add(track, \"top-left\");\n      const places = [\"Choose a place type...\", \"Parks and Outdoors\", \"Coffee shop\", \"Gas station\", \"Food\", \"Hotel\"];\n      const select = document.createElement(\"select\", \"\");\n      select.setAttribute(\"class\", \"esri-widget esri-select\");\n      select.setAttribute(\"style\", \"width: 175px; font-family: 'Avenir Next W00'; font-size: 1em\");\n      places.forEach(function (p) {\n        const option = document.createElement(\"option\");\n        option.value = p;\n        option.innerHTML = p;\n        select.appendChild(option);\n      });\n      view.ui.add(select, \"top-right\");\n      const locatorUrl = \"http://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer\";\n\n      function findPlaces(category, pt) {\n        locator.addressToLocations(locatorUrl, {\n          location: pt,\n          categories: [category],\n          maxLocations: 25,\n          outFields: [\"Place_addr\", \"PlaceName\"]\n        }).then(function (results) {\n          view.popup.close();\n          view.graphics.removeAll();\n          results.forEach(function (result) {\n            view.graphics.add(new Graphic({\n              attributes: result.attributes,\n              // Data attributes returned\n              geometry: result.location,\n              // Point returned\n              symbol: {\n                type: \"simple-marker\",\n                color: \"#000000\",\n                size: \"12px\",\n                outline: {\n                  color: \"#ffffff\",\n                  width: \"2px\"\n                }\n              },\n              popupTemplate: {\n                title: \"{PlaceName}\",\n                // Data attribute names\n                content: \"{Place_addr}\"\n              }\n            }));\n          });\n        });\n      }\n\n      view.watch(\"stationary\", function (val) {\n        if (val) {\n          findPlaces(select.value, view.center);\n        }\n      });\n      select.addEventListener('change', function (event) {\n        findPlaces(event.target.value, view.center);\n      });\n      return () => {\n        //close the map view\n        if (!!view) {\n          view.destroy();\n          view = null;\n        }\n      };\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    id: \"viewDiv\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 578.5\n      },\n      ref: viewDiv\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Map2, \"3c2PZd2xjbwflPWpOcmd/LY/LhU=\");\n\n_c = Map2;\nexport default Map2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map2\");","map":{"version":3,"sources":["C:/Users/Serendivity/Documents/GitHub/pti-uas/src/pages/Map2/Map2.js"],"names":["React","useRef","useEffect","loadModules","Map2","viewDiv","css","then","Map","MapView","Directions","esriConfig","Track","Graphic","locator","apiKey","map","basemap","view","zoom","center","container","directionsWidget","ui","add","position","track","graphic","symbol","type","size","color","outline","width","useHeadingEnabled","places","select","document","createElement","setAttribute","forEach","p","option","value","innerHTML","appendChild","locatorUrl","findPlaces","category","pt","addressToLocations","location","categories","maxLocations","outFields","results","popup","close","graphics","removeAll","result","attributes","geometry","popupTemplate","title","content","watch","val","addEventListener","event","target","destroy","height"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\r\n// import 'https://js.arcgis.com/4.21/';\r\n// import 'https://js.arcgis.com/4.21/esri/themes/light/main.css';\r\nimport './Map2.css';\r\nimport { loadModules } from 'esri-loader';\r\n\r\nfunction Map2() {\r\n  let viewDiv = useRef(null);\r\n  useEffect(\r\n    () => {\r\n      loadModules([\"esri/Map\",\r\n        \"esri/views/MapView\",\r\n        \"esri/widgets/Directions\",\r\n        \"esri/config\",\r\n        \"esri/widgets/Track\", \"esri/Graphic\",\r\n        \"esri/rest/locator\"], {\r\n        css: true\r\n      }).then(([Map, MapView, Directions, esriConfig, Track, Graphic, locator]) => {\r\n        esriConfig.apiKey = \"AAPK646fc7baa89c4b608eb58b54dbbbe1066JR7fGrtnfyFPoTQnl4Z7yp0rUqUJMjQUrurVPBVnBAt75VOFZL-g-La4SwrdiZf\";\r\n\r\n        const map = new Map({\r\n          basemap: \"arcgis-topographic\"\r\n        });\r\n\r\n        const view = new MapView({\r\n          zoom: 16,\r\n          center: [106.6182, -6.2567],\r\n          container: \"viewDiv\",\r\n          map: map\r\n        });\r\n\r\n        let directionsWidget = new Directions({\r\n          view: view\r\n        });\r\n\r\n        view.ui.add(directionsWidget, {\r\n          position: \"top-right\"\r\n        });\r\n\r\n        const\r\n          track = new Track({\r\n            view: view,\r\n            graphic: new Graphic({\r\n              symbol: {\r\n                type: \"simple-marker\",\r\n                size: \"12px\",\r\n                color: \"green\",\r\n                outline: {\r\n                  color: \"#efefef\",\r\n                  width: \"1.5px\"\r\n                }\r\n              }\r\n            }),\r\n            useHeadingEnabled: false\r\n          });\r\n\r\n        view.ui.add(track, \"top-left\");\r\n\r\n        const places = [\"Choose a place type...\", \"Parks and Outdoors\", \"Coffee shop\", \"Gas station\", \"Food\", \"Hotel\"];\r\n        const select = document.createElement(\"select\", \"\");\r\n        select.setAttribute(\"class\", \"esri-widget esri-select\");\r\n        select.setAttribute(\"style\", \"width: 175px; font-family: 'Avenir Next W00'; font-size: 1em\");\r\n\r\n        places.forEach(function (p) {\r\n          const option = document.createElement(\"option\");\r\n          option.value = p;\r\n          option.innerHTML = p;\r\n          select.appendChild(option);\r\n        });\r\n\r\n        view.ui.add(select, \"top-right\");\r\n\r\n        const locatorUrl = \"http://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer\";\r\n        function findPlaces(category, pt) {\r\n          locator.addressToLocations(locatorUrl, {\r\n            location: pt,\r\n            categories: [category],\r\n            maxLocations: 25,\r\n            outFields: [\"Place_addr\", \"PlaceName\"]\r\n          })\r\n\r\n            .then(function (results) {\r\n              view.popup.close();\r\n              view.graphics.removeAll();\r\n\r\n              results.forEach(function (result) {\r\n                view.graphics.add(\r\n                  new Graphic({\r\n                    attributes: result.attributes,  // Data attributes returned\r\n                    geometry: result.location, // Point returned\r\n                    symbol: {\r\n                      type: \"simple-marker\",\r\n                      color: \"#000000\",\r\n                      size: \"12px\",\r\n                      outline: {\r\n                        color: \"#ffffff\",\r\n                        width: \"2px\"\r\n                      }\r\n                    },\r\n\r\n                    popupTemplate: {\r\n                      title: \"{PlaceName}\", // Data attribute names\r\n                      content: \"{Place_addr}\"\r\n                    }\r\n                  }));\r\n              });\r\n\r\n            });\r\n\r\n        }\r\n        view.watch(\"stationary\", function (val) {\r\n          if (val) {\r\n            findPlaces(select.value, view.center);\r\n          }\r\n        });\r\n\r\n        select.addEventListener('change', function (event) {\r\n          findPlaces(event.target.value, view.center);\r\n        });\r\n\r\n        return () => {\r\n          //close the map view\r\n          if (!!view) {\r\n            view.destroy()\r\n            view = null\r\n          }\r\n        }\r\n\r\n      });\r\n    })\r\n  return (\r\n    <div className=\"App\" id=\"viewDiv\">\r\n      <div style={{ height: 578.5 }} ref={viewDiv}></div>\r\n    </div>\r\n\r\n  );\r\n}\r\nexport default Map2;"]},"metadata":{},"sourceType":"module"}